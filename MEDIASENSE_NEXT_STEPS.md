# MediaSense Integration - –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

**–î–∞—Ç–∞:** 26 —Å—ñ—á–Ω—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ö–æ–¥ –æ–Ω–æ–≤–ª–µ–Ω–æ, –∞–ª–µ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ API –Ω–µ –ø—Ä–∞—Ü—é—î

---

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

### ‚úÖ –©–æ –ø—Ä–∞—Ü—é—î

1. **–ö–æ–¥ –æ–Ω–æ–≤–ª–µ–Ω–æ** –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API MediaSense 11.5.1.12001-8
2. **–§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Ç—ñ–≤** –≤–∏–∑–Ω–∞—á–µ–Ω–æ —á–µ—Ä–µ–∑ reverse engineering
3. **Endpoint** `/ora/queryService/query/getSessions` –ø—Ä–∞—Ü—é—î –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º JSESSIONID
4. **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö** –æ–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –≤—Å—ñ—Ö –ø–æ–ª—ñ–≤ –∑ API
5. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏** –∑–∞–ø—É—â–µ–Ω—ñ —É—Å–ø—ñ—à–Ω–æ
6. **API —Å–µ—Ä–≤–µ—Ä** –ø—Ä–∞—Ü—é—î –Ω–∞ –ø–æ—Ä—Ç—É 3000

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∏

1. **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ API –Ω–µ –ø—Ä–∞—Ü—é—î**
   - MediaSense –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î JSESSIONID cookie –ø—Ä–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ API
   - –í—Å—ñ –º–µ—Ç–æ–¥–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å HTTP 200, –∞–ª–µ –±–µ–∑ Set-Cookie –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
   - –ó–∞–ø–∏—Ç–∏ –±–µ–∑ JSESSIONID –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `responseCode: 4021` (Invalid session)

2. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–µ –æ—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ**
   - `totalFetched: 0` - —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–µ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ
   - –°—Ç–∞—Ç—É—Å: `SUCCESS`, –∞–ª–µ –±–µ–∑ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –ø—Ä–æ–±–ª–µ–º—É –∑ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é

---

## –í–∞—Ä—ñ–∞–Ω—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è JSESSIONID –∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (—Ç–∏–º—á–∞—Å–æ–≤–µ)

**–û–ø–∏—Å:** –û—Ç—Ä–∏–º–∞—Ç–∏ JSESSIONID –∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É MediaSense –≤—Ä—É—á–Ω—É —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –π–æ–≥–æ –≤ API –∑–∞–ø–∏—Ç–∞—Ö.

**–ö—Ä–æ–∫–∏:**

1. **–û—Ç—Ä–∏–º–∞—Ç–∏ JSESSIONID:**
   ```bash
   # –í—ñ–¥–∫—Ä–∏—Ç–∏ MediaSense –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
   # DevTools ‚Üí Application/Storage ‚Üí Cookies
   # –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è JSESSIONID
   ```

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤ –∫–æ–¥—ñ (—Ç–∏–º—á–∞—Å–æ–≤–æ):**
   - –î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ JSESSIONID —á–µ—Ä–µ–∑ environment variable –∞–±–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π cookie –¥–ª—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤

3. **–ü–µ—Ä–µ–≤–∞–≥–∏:**
   - ‚úÖ –ü—Ä–∞—Ü—é—î –Ω–µ–≥–∞–π–Ω–æ
   - ‚úÖ –î–æ–∑–≤–æ–ª—è—î –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤–µ—Å—å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
   - ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î, —â–æ –∫–æ–¥ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ

4. **–ù–µ–¥–æ–ª—ñ–∫–∏:**
   - ‚ùå –ù–µ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è
   - ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–µ —Ä—É—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è cookie (–≤–æ–Ω–∏ –≤–∏—á–µ—Ä–ø—É—é—Ç—å—Å—è)
   - ‚ùå –ù–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è production

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –≤ `MediaSenseClientService` –º–µ—Ç–æ–¥ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è JSESSIONID –≤—Ä—É—á–Ω—É.

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è JSESSIONID —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–û–ø–∏—Å:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π:
1. –í—ñ–¥–∫—Ä–∏–≤–∞—î –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å MediaSense —á–µ—Ä–µ–∑ headless –±—Ä–∞—É–∑–µ—Ä (Puppeteer/Playwright)
2. –í–∏–∫–æ–Ω—É—î –ª–æ–≥—ñ–Ω —á–µ—Ä–µ–∑ –≤–µ–±-—Ñ–æ—Ä–º—É
3. –û—Ç—Ä–∏–º—É—î JSESSIONID cookie
4. –ü–µ—Ä–µ–¥–∞—î –π–æ–≥–æ –≤ API –∫–ª—ñ—î–Ω—Ç

**–ö—Ä–æ–∫–∏:**

1. **–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   npm install puppeteer
   # –∞–±–æ
   npm install playwright
   ```

2. **–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è cookie:**
   ```typescript
   // apps/api/src/modules/media-sense/media-sense-cookie-service.ts
   async getJSessionIdFromWeb(): Promise<string> {
     // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Puppeteer/Playwright –¥–ª—è –ª–æ–≥—ñ–Ω—É
     // –û—Ç—Ä–∏–º–∞—Ç–∏ JSESSIONID cookie
     // –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è
   }
   ```

3. **–Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ MediaSenseClientService:**
   - –í–∏–∫–ª–∏–∫–∞—Ç–∏ `getJSessionIdFromWeb()` —è–∫—â–æ API –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –Ω–µ –ø—Ä–∞—Ü—é—î
   - –ö–µ—à—É–≤–∞—Ç–∏ cookie –Ω–∞ 30 —Ö–≤–∏–ª–∏–Ω
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –ø—Ä–∏ –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—ñ

4. **–ü–µ—Ä–µ–≤–∞–≥–∏:**
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è
   - ‚úÖ –ü—Ä–∞—Ü—é—î –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤—Ç—Ä—É—á–∞–Ω–Ω—è
   - ‚úÖ –ú–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ production

5. **–ù–µ–¥–æ–ª—ñ–∫–∏:**
   - ‚ùå –ü–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (Puppeteer/Playwright)
   - ‚ùå –ë—ñ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å—ñ–≤ (–±—Ä–∞—É–∑–µ—Ä)
   - ‚ùå –°–∫–ª–∞–¥–Ω—ñ—à–µ –≤ –ø—ñ–¥—Ç—Ä–∏–º—Ü—ñ

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è —Ü—å–æ–≥–æ.

---

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è MediaSense —Å–µ—Ä–≤–µ—Ä–∞

**–û–ø–∏—Å:** –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ MediaSense —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è cookies —á–µ—Ä–µ–∑ API.

**–ö—Ä–æ–∫–∏:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è MediaSense:**
   - CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
   - Cookie domain/path –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
   - Security policies
   - API access permissions

2. **–ú–æ–∂–ª–∏–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
   - –î–æ–∑–≤–æ–ª–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è cookies –¥–ª—è API –∫–ª—ñ—î–Ω—Ç—ñ–≤
   - –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ cookie domain –¥–ª—è API –∑–∞–ø–∏—Ç—ñ–≤
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ security policies

3. **–ü–µ—Ä–µ–≤–∞–≥–∏:**
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –Ω–∞ —Ä—ñ–≤–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞
   - ‚úÖ –ù–µ –ø–æ—Ç—Ä–µ–±—É—î –∑–º—ñ–Ω –≤ –∫–æ–¥—ñ
   - ‚úÖ –ü—Ä–∞—Ü—é—î –¥–ª—è –≤—Å—ñ—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤

4. **–ù–µ–¥–æ–ª—ñ–∫–∏:**
   - ‚ùå –ü–æ—Ç—Ä–µ–±—É—î –¥–æ—Å—Ç—É–ø—É –¥–æ MediaSense —Å–µ—Ä–≤–µ—Ä–∞
   - ‚ùå –ú–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä–µ–±—É—î –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ Cisco
   - ‚ùå –ú–æ–∂–ª–∏–≤–æ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤ –≤–µ—Ä—Å—ñ—ó 11.5

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ü–æ—Ç—Ä—ñ–±–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –∑ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º MediaSense –∞–±–æ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Cisco.

---

### –í–∞—Ä—ñ–∞–Ω—Ç 4: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

**–û–ø–∏—Å:** –ó–Ω–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —è–∫–∏–π –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è MediaSense 11.5.

**–ú–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏:**

1. **API –∫–ª—é—á—ñ/—Ç–æ–∫–µ–Ω–∏:**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—î MediaSense 11.5 API –∫–ª—é—á—ñ
   - –ú–æ–∂–ª–∏–≤–æ —î –æ–∫—Ä–µ–º–∏–π endpoint –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤

2. **Certificate-based authentication:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - –ú–æ–∂–ª–∏–≤–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –≤ MediaSense

3. **OAuth:**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—î MediaSense OAuth
   - –ú–æ–∂–ª–∏–≤–æ —î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:** –ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∞–±–æ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Cisco.

---

## –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø–ª–∞–Ω –¥—ñ–π

### –ï—Ç–∞–ø 1: –¢–∏–º—á–∞—Å–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è (1-2 –¥–Ω—ñ)

1. ‚úÖ **–î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ JSESSIONID –≤—Ä—É—á–Ω—É**
   - Environment variable `MEDIASENSE_JSESSIONID`
   - –ê–±–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ –ë–î
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

2. ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤–µ—Å—å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –∑ —Ä—É—á–Ω–∏–º JSESSIONID
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –¥–∞–Ω—ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è
   - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏, —â–æ –∫–æ–¥ –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ï—Ç–∞–ø 2: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è (3-5 –¥–Ω—ñ–≤)

1. ‚è≥ **–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è JSESSIONID —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Puppeteer –∞–±–æ Playwright
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è cookie
   - –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ MediaSenseClientService
   - –î–æ–¥–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

2. ‚è≥ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Ä—ñ—à–µ–Ω–Ω—è
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### –ï—Ç–∞–ø 3: –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è (1-2 —Ç–∏–∂–Ω—ñ)

1. ‚è≥ **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Cisco MediaSense**
   - –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ support request (–¥–∏–≤. `SUPPORT_REQUEST_MEDIASENSE_UPDATED.md`)
   - –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - –ú–æ–∂–ª–∏–≤–æ –∑–Ω–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –º–µ—Ç–æ–¥ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

2. ‚è≥ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏**
   - –î–æ—Å–ª—ñ–¥–∏—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –º–µ—Ç–æ–¥–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é MediaSense 11.5
   - –ú–æ–∂–ª–∏–≤–æ –∑–Ω–∞–π—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è –≤ community —Ñ–æ—Ä—É–º–∞—Ö

---

## –®–≤–∏–¥–∫–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–µ–≥–∞–π–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:

1. **–û—Ç—Ä–∏–º–∞—Ç–∏ JSESSIONID –∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É:**
   - –í—ñ–¥–∫—Ä–∏—Ç–∏ MediaSense –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
   - DevTools ‚Üí Application ‚Üí Cookies
   - –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `JSESSIONID`

2. **–î–æ–¥–∞—Ç–∏ –≤ –∫–æ–¥ (—Ç–∏–º—á–∞—Å–æ–≤–æ):**
   ```typescript
   // –í MediaSenseClientService.login()
   // –Ø–∫—â–æ API –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –Ω–µ –ø—Ä–∞—Ü—é—î, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤—Ä—É—á–Ω—É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π cookie
   const manualJSessionId = process.env.MEDIASENSE_JSESSIONID;
   if (manualJSessionId) {
     this.session = {
       sessionId: manualJSessionId,
       cookies: [`JSESSIONID=${manualJSessionId}`],
       expiresAt: new Date(Date.now() + 30 * 60 * 1000),
     };
     return this.session;
   }
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é:**
   ```bash
   # –ß–µ—Ä–µ–∑ API endpoint
   curl -X POST http://localhost:3000/api/recordings/admin/sync-now \
     -H "Authorization: Bearer $JWT_TOKEN"
   ```

---

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É

### –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

```bash
# 1. –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
sudo ./check-sync-status.sh

# 2. –õ–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
sudo docker compose -f infra/docker-compose.yml logs api | grep -i "mediasense\|sync"

# 3. –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
sudo ./diagnose-mediasense-auth.sh

# 4. –¢–µ—Å—Ç –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ API
curl -X POST http://localhost:3000/api/integrations/mediasense/test \
  -H "Authorization: Bearer $JWT_TOKEN"
```

---

## –í–∏—Å–Ω–æ–≤–æ–∫

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- ‚úÖ –§–æ—Ä–º–∞—Ç API –≤–∏–∑–Ω–∞—á–µ–Ω–æ
- ‚ö†Ô∏è –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ API –Ω–µ –ø—Ä–∞—Ü—é—î

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**
1. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è –∑ —Ä—É—á–Ω–∏–º JSESSIONID –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è cookie —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:**
1. üî¥ –í–∏—Å–æ–∫–∏–π: –¢–∏–º—á–∞—Å–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
2. üü° –°–µ—Ä–µ–¥–Ω—ñ–π: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è cookie
3. üü¢ –ù–∏–∑—å–∫–∏–π: –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫—É Cisco

---

**–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:** 26 —Å—ñ—á–Ω—è 2026  
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 26 —Å—ñ—á–Ω—è 2026
